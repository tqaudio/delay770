set(
  plugin_sources
  include/controller.h
  include/id.h
  include/processor.h
  include/parameter.h
  include/version.h
  include/buffer.h
  source/factory.cpp
    source/controller.cpp
    source/processor.cpp
    source/parameter.cpp
    source/buffer.cpp
)
set(target Delay770)
smtg_add_vst3plugin(${target} ${plugin_sources})
set_target_properties(${target} PROPERTIES ${SDK_IDE_MYPLUGINS_FOLDER})
target_include_directories(${target} PUBLIC ${VSTGUI_ROOT}/vstgui4)
target_link_libraries(${target} PRIVATE base sdk vstgui_support)

# generated by knob.html
smtg_add_vst3_resource(${target} "image/knob_1x.png")
smtg_add_vst3_resource(${target} "image/knob_2x.png")
smtg_add_vst3_resource(${target} "image/knob_3x.png")

# VST3 snapshot
smtg_add_vst3_snapshot(${target} "image/1d0c4cc7f3794dc4a617afb617553213_snapshot_1x.png")

# main view
smtg_add_vst3_resource(${target} "resource/main.uidesc")

if(SMTG_MAC)
  smtg_set_bundle(${target} INFOPLIST "${CMAKE_CURRENT_LIST_DIR}/resource/Info.plist" PREPROCESS)
elseif(SMTG_WIN)
  target_sources(${target} PRIVATE resource/Plugin.rc)
endif()
